<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Smart Cult â€” Infinite Interoperability</title>
  <meta name="description" content="Smart Cult: an omni chain initiative focused on infinite interoperability." />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
  <link rel="icon" href="/favicon.ico">
  <style>
    .glass { backdrop-filter: blur(8px); background: rgba(255,255,255,0.08); }
    .card { border-radius: 1rem; border: 1px solid rgba(255,255,255,0.12); }
    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
  </style>
</head>
<body class="bg-gray-950 text-gray-100 min-h-screen">
  <header class="max-w-7xl mx-auto px-6 py-6 flex items-center justify-between">
    <h1 class="text-2xl font-bold tracking-tight">$SMARTCULT</h1>
    <nav class="space-x-4 text-sm">
      <a href="#swap" class="hover:underline">Swap</a>
      <a href="#vision" class="hover:underline">Vision</a>
      <a href="#status" class="hover:underline">Status</a>
    </nav>
  </header>

  <main class="max-w-7xl mx-auto px-6">
    <section class="mt-6 sm:mt-12 p-6 sm:p-10 glass card">
      <div class="grid sm:grid-cols-2 gap-8 items-center">
        <div>
          <h2 class="text-3xl sm:text-5xl font-extrabold leading-tight">Smart Cult</h2>
          <p class="mt-4 text-gray-300">
            An omniâ€‘master chain pursuing <span class="font-semibold">infinite interoperability</span>.
            We fork, upgrade tokenomics, and extend smartâ€‘contract protocolsâ€”speaking each chainâ€™s native language.
          </p>
          <div class="mt-6 text-sm text-gray-400">
            <span class="inline-block bg-green-900/40 px-2 py-1 rounded">Beta is open</span>
            <span class="ml-2">Official launch: <strong>Halloween 2025</strong></span>
          </div>
        </div>
        <div class="bg-black/30 p-6 rounded-xl border border-white/10">
          <h3 class="font-semibold mb-2">Countdown to Launch ðŸŽƒ</h3>
          <div id="countdown" class="text-2xl sm:text-3xl font-bold"></div>
          <p class="text-xs text-gray-400 mt-2">Target: Oct 31, 2025 00:00:00 ET</p>
        </div>
      </div>
    </section>

    <section id="swap" class="mt-10 sm:mt-16">
      <h3 class="text-xl sm:text-2xl font-bold mb-4">Swap (Beta, Simulation)</h3>
      <div class="grid md:grid-cols-2 gap-6">
        <!-- Swap widgets will be injected here -->
        <div id="widgets" class="space-y-6"></div>
      </div>
      <p class="text-xs text-gray-400 mt-4">
        Note: This beta uses simulated quotes via the Smart Cult backend. No real swaps occur.
      </p>
    </section>

    <section id="vision" class="mt-16">
      <h3 class="text-xl sm:text-2xl font-bold mb-3">Vision</h3>
      <div class="glass card p-6 text-gray-300 leading-relaxed">
        <p>
          Start with Smart DOGE (forked Dogecoin with smartâ€‘contract extensions) and expand to an
          omniâ€‘master chain <span class="mono">$SMARTCULT</span> coordinating secure bridges and tokenomic upgrades.
          Roadmap includes: <span class="mono">Smart BTC â†’ Bitcoin</span>, <span class="mono">Smart ETH â†’ Ethereal</span>,
          <span class="mono">Smart SOL â†’ Solana</span>, <span class="mono">Smart AVAX â†’ Avalanche</span>,
          <span class="mono">Smart LTC â†’ Litecoin</span>.
        </p>
        <p class="mt-3">
          Whitepaper & protocol details coming in phasesâ€”prioritizing safety, formal verification, and credible neutrality.
        </p>
      </div>
    </section>

    <section id="status" class="mt-16 mb-24">
      <h3 class="text-xl sm:text-2xl font-bold mb-3">Status</h3>
      <ul class="list-disc pl-5 space-y-2 text-gray-300">
        <li>Beta web app online (simulation only).</li>
        <li>Cloudflare Worker API ready for quotes and mock swaps.</li>
        <li>Omni master chain <span class="mono">$SMARTCULT</span> spec draft in progress.</li>
      </ul>
    </section>
  </main>

  <footer class="border-t border-white/10 py-6 text-center text-xs text-gray-500">
    Â© <span id="year"></span> Smart Cult â€” smartcult.online
  </footer>

  <script>
    // Countdown
    (function(){
      const target = new Date('2025-10-31T04:00:00Z'); // 00:00:00 ET (UTC-4 around late Oct 2025)
      function tick() {
        const now = new Date();
        const diff = target - now;
        if (diff <= 0) {
          document.getElementById('countdown').textContent = 'ðŸŽ‰ Launched!';
          return;
        }
        const d = Math.floor(diff / (1000*60*60*24));
        const h = Math.floor((diff / (1000*60*60)) % 24);
        const m = Math.floor((diff / (1000*60)) % 60);
        const s = Math.floor((diff / 1000) % 60);
        document.getElementById('countdown').textContent = `${d}d ${h}h ${m}m ${s}s`;
      }
      setInterval(tick, 1000); tick();
      document.getElementById('year').textContent = new Date().getFullYear();
    })();

    // Swap widgets config
    const PAIRS = [
      { from: 'SMART DOGE', to: 'TOTE', symbol: 'SMART_DOGE/TOTE' },
      { from: 'SMART BTC', to: 'BITCOIN', symbol: 'SMART_BTC/BTC' },
      { from: 'SMART ETH', to: 'ETHEREAL', symbol: 'SMART_ETH/ETHR' },
      { from: 'SMART SOL', to: 'SOLANA', symbol: 'SMART_SOL/SOL' },
      { from: 'SMART AVAX', to: 'AVALANCHE', symbol: 'SMART_AVAX/AVAX' },
      { from: 'SMART LTC', to: 'LITECOIN', symbol: 'SMART_LTC/LTC' },
    ];

    function createWidget(pair) {
      const card = document.createElement('div');
      card.className = 'glass card p-6';

      card.innerHTML = `
        <div class="flex items-center justify-between mb-4">
          <div>
            <div class="text-sm text-gray-400">Pair</div>
            <div class="text-lg font-semibold">${pair.symbol}</div>
          </div>
          <button class="px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-sm" data-role="refresh">Get Quote</button>
        </div>

        <div class="grid grid-cols-2 gap-3">
          <div>
            <label class="text-xs text-gray-400">From (${pair.from})</label>
            <input type="number" step="any" min="0" value="100" class="w-full mt-1 px-3 py-2 bg-black/30 border border-white/10 rounded outline-none focus:ring" data-role="amount">
          </div>
          <div>
            <label class="text-xs text-gray-400">To (${pair.to}) â€” est.</label>
            <input type="text" readonly class="w-full mt-1 px-3 py-2 bg-black/20 border border-white/10 rounded text-gray-300" data-role="estimate">
          </div>
        </div>

        <div class="mt-3 text-xs text-gray-400" data-role="meta">â€”</div>

        <div class="mt-4 flex gap-3">
          <button class="px-4 py-2 rounded bg-emerald-600 hover:bg-emerald-500" data-role="swap">Simulate Swap</button>
          <button class="px-4 py-2 rounded bg-gray-700 hover:bg-gray-600" data-role="tx">View Simulated Tx</button>
        </div>
      `;

      const btn = card.querySelector('[data-role="refresh"]');
      const amt = card.querySelector('[data-role="amount"]');
      const est = card.querySelector('[data-role="estimate"]');
      const meta = card.querySelector('[data-role="meta"]');
      const swap = card.querySelector('[data-role="swap"]');
      const tx = card.querySelector('[data-role="tx"]');

      async function getQuote() {
        meta.textContent = 'Fetching quote...';
        try {
          const res = await fetch(`/api/quote?pair=${encodeURIComponent(pair.symbol)}&amount=${encodeURIComponent(amt.value)}`);
          const data = await res.json();
          est.value = data.estimate;
          meta.textContent = `Rate: ${data.rate} | Fee: ${data.fee} | Slippage: ${data.slippage}% | Provider: ${data.provider}`;
        } catch (e) {
          meta.textContent = 'Quote error. Backend not reachable.';
        }
      }

      async function doSwap() {
        meta.textContent = 'Submitting simulated swap...';
        try {
          const res = await fetch('/api/swap', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ pair: pair.symbol, amount: Number(amt.value) })
          });
          const data = await res.json();
          meta.textContent = `Simulated swap OK. Tx: ${data.txid.slice(0,10)}â€¦ | Block: ${data.block}`;
          tx.onclick = () => window.alert(JSON.stringify(data, null, 2));
        } catch (e) {
          meta.textContent = 'Swap error. Backend not reachable.';
        }
      }

      btn.onclick = getQuote;
      swap.onclick = doSwap;

      getQuote();
      return card;
    }

    const widgets = document.getElementById('widgets');
    PAIRS.forEach(p => widgets.appendChild(createWidget(p)));
  </script>
</body>
</html>
